=======================
Высокоуровневые функции
=======================

Подключение и отключение
========================

**connect(host: str, port: str, arm: str, user: str, password: str) -> Tuple[int, str]**

    Подключение к серверу -- регистрация клиента на сервере.

    * **host** - адрес сервера в числовом виде (например 192.168.5.140).
    * **port** - рабочий порт сервера (чаще всего 6666).
    * **arm** - тип клиента: ``IRBIS_READER``, ``IRBIS_CATALOG`` и т. д.
    * **user** - имя пользователя, зарегистрированного на сервере.
    * **password** - пароль пользователя.

    Функция возвращает кортеж "код возврата, содержимое INI-файла".

    Данная функция должна обязательно выполняться первой в клиентском приложении (ей могут предшествовать лишь функции установки общих параметров).

**disconnect(user: str) -> int**

    Отключение от сервера -- разрегистрация клиента на сервере, сигнал об окончании работы.

    * **user** - имя пользователя, ранее выполнившего вход на сервер.

    Функцию необходимо выполнять в конце работы клиентского приложения. Сервер производит автоматическую раз-регистрацию клиентов, не подающих запросов в течение определенного времени.

**is_busy() -> bool**

    Определение, не занят ли в данный момент сервер обработкой запроса от данного клиента.

    Возвращает ``True``, если в настоящий момент выполняется клиентский запрос, иначе ``False``.

Настройка клиента
=================

**hide_window() -> None**

    Прячем надоедливое окно, переходя в блокирующий режим сокетов.

**use_web_gateway(cgi: Optional[str] = None) -> int**

    Установка режима работы через Web-шлюз.

    * **cgi** - путь к шлюзу (по умолчанию ``/cgi-bin/wwwirbis.exe``).

Функции работы с ресурсами
==========================

**read_file(database: Optional[str], file_name: str, path: int = DBNPATH2) -> Tuple\[int, str\]**

    Чтение текстового файла с сервера.

    * **database** - имя базы данных (не используется для путей ``SYSPATH`` и ``DATAPATH``).
    * **file_name** - имя требуемого текстового файла (ресурса) с расширением.
    * **path** - код, определяющий относительный путь раземещения ресурса на сервере (см. ниже).

    Коды путей:

    * **SYSPATH** – общесистемный путь (т.е. там, где размещается собственно исполняемый модуль сервера ``C:\irbis64\``).
    * **DATAPATH** – путь, где размещаются сведения о базах данных (``C:\irbis64\datai\``).
    * **DBNPATH2** – путь, где размещается собственно база данных (``C:\irbis64\datai\ibis\``);
    * **DBNPATH3** - путь, где размещается собственно база данных;
    * **DBNPATH10** - путь, где размещается собственно база данных.

    Функция возвращает кортеж "код возврата, содержимое файла". Файл ожидается в кодировке ANSI.

**write_file(database: Optional[str], file_name: str, content: str, path: int = DBNPATH2) -> int**

    Запись текстового файла на сервер.

    * **database** - имя базы данных (не используется для путей ``SYSPATH`` и ``DATAPATH``).
    * **file_name** - имя текстового файла (ресурса) с расширением.
    * **content** - содержимое файла.
    * **path** - код, определяющий относительный путь раземещения ресурса на сервере (см. ниже).

**clear_cache() -> int**

    Очистка локального кэша форматов, меню и прочих ресурсов, прочитанных с сервера.

    В результате выполнения функции очищается кэш, в котором сохраняются запрошенные текстовые ресурсы (после чего при их запросе они берутся с сервера). При выполнении функции не производится обращение на сервер.
